# 基础命令行交互与文件系统管理

在 Linux 环境下，命令行界面（Shell）是操作者与操作系统内核进行交互的主要媒介。熟练掌握基础指令集是进行操作系统实验、编译内核以及调试程序的必要前提。本节将依据功能分类，详细阐述文件系统导航、文件对象管理、权限控制以及文本流处理的核心指令。

## 一、 文件系统的导航与检索

Linux 操作系统采用层级树状文件结构，根目录由正斜杠 `/` 标识。为了在复杂的目录树中确定当前位置，操作者需使用 `pwd` 指令。该指令的全称为 Print Working Directory，执行后将在标准输出中打印当前工作目录的绝对路径。

在确认当前路径后，检索目录内容通常使用 `ls` 指令。该指令默认列出当前目录下的非隐藏文件与子目录。在实际开发中，更常使用的是带有参数的组合指令 `ls -la`。其中，`-l` 参数指示系统以长格式输出，显示文件的权限掩码、所有者、文件大小及最后修改时间等元数据；`-a` 参数则强制显示以 `.` 开头的隐藏文件，这对于查看 `.git` 配置或环境配置文件至关重要。

目录间的切换通过 `cd` 指令实现。该指令的全称为 Change Directory，其接受一个路径参数作为目标位置。该参数可以是绝对路径（从根目录 `/` 开始），也可以是相对路径。
系统定义了两个特殊的相对路径符号：`.` 代表当前目录，`..` 代表父目录。因此，执行 `cd ..` 将使工作路径向上回退一级。此外，波浪号 `~` 被定义为当前用户的家目录（Home Directory）的快捷方式，执行 `cd ~` 可快速返回用户的私人工作空间。

## 二、 文件对象的创建与生命周期管理

文件与目录的创建是工程构建的基础。创建新的空目录使用 `mkdir` 指令。在构建多级目录结构时，建议添加 `-p` 参数（例如 `mkdir -p lab/src`），这允许指令在父目录不存在时自动创建父目录，避免因路径缺失而报错。对于普通文件的创建，常用 `touch` 指令。该指令主要用于更新文件的时间戳，但当目标文件不存在时，它会创建一个大小为零字节的空文件，常用于初始化源代码文件。

文件对象的复制与移动分别由 `cp` 和 `mv` 指令承担。Copy 指令在复制单个文件时直接指定源路径与目标路径。若需复制包含内容的目录，必须添加 `-r` 参数以启用递归模式，确保目录下的所有子对象被完整复制。Move 指令不仅用于移动文件位置，在 Linux 系统中也承担重命名文件的功能。将文件从 `old_name` 移动为 `new_name` 本质上即完成了重命名操作。

文件对象的销毁通过 `rm` 指令执行。Remove 操作在 Linux 文件系统中具有不可逆性，删除的数据无法通过常规手段恢复。删除单个文件可直接执行 `rm filename`。若需删除非空目录，必须结合 `-r`（递归）与 `-f`（强制）参数，即 `rm -rf directory_name`。鉴于该指令的高风险性，操作者在按下回车键前必须严格核对目标路径，严禁在根目录执行此操作。

## 三、 权限控制与超级用户机制

Linux 实施严格的用户权限隔离机制，文件权限通过读取（r）、写入（w）与执行（x）三个维度进行定义。在实验过程中，编译生成的脚本或二进制文件可能因缺乏执行权限而无法运行。此时需使用 `chmod` 指令修改文件模式。执行 `chmod +x script.sh` 将为所有用户添加该文件的执行权限，使其能够被 Shell 加载运行。

涉及系统层面的操作，如软件安装、修改网络配置或访问受保护的硬件设备，仅允许超级用户（Root）执行。普通用户可通过 `sudo` 指令临时提升权限。SuperUser Do 指令要求操作者在执行系统管理命令前添加 `sudo` 前缀（例如 `sudo apt update`），系统将验证当前用户的登录密码以授权该次操作。这是保障操作系统安全性的核心机制。

## 四、 文本流的查看与编辑

在不启动图形编辑器的情况下查看文件内容，通常使用 `cat` 指令。Concatenate 指令会将指定文件的全部内容直接输出至终端的标准输出流，适用于查阅简短的配置文件或代码片段。

对于内容的编辑，终端内嵌了多种文本编辑器，其中 `nano` 与 `vim` 最为通用。Nano 编辑器提供了直观的操作界面，屏幕底部显示了控制快捷键，适合初学者进行简单的文本修改。Vim 编辑器则采用多模式交互逻辑（命令模式、插入模式、底行模式），虽然学习曲线陡峭，但提供了强大的代码编辑能力。对于初次接触 Vim 的操作者，需知晓按 `i` 键进入插入模式进行编辑，按 `Esc` 键退出编辑，随后输入 `:wq` 保存并退出，或输入 `:q!` 强制退出不保存。Vim 的快捷键非常强大，感兴趣的读者可以访问 [Vim 的官方仓库][https://github.com/vim/vim], 或在 Vim 中输入 `:help` 来查看帮助。

当然，必须考虑到 Vim 的学习曲线是非常陡峭的，初学者难以完全掌握。对于更习惯使用 VScode 等编辑器或 IDE 的同学来说，考虑 WSL2 或是带有图形界面的 Linux LTS 版本是一个不错的选择。

## 五、 构建系统基础

操作系统内核的编译过程极为复杂，涉及成百上千个源文件的依赖管理。手动调用编译器（如 GCC）进行逐个编译是不现实的。因此，`make` 工具被引入以实现构建过程的自动化。Make 工具依据当前目录下名为 `Makefile` 的描述文件，自动判断哪些文件已被修改并仅重新编译这些部分，从而显著提高构建效率。在实验中，通常通过输入 `make build` 或 `make run` 来触发预定义的编译与运行流程，通过输入 `make clean` 来清理编译产物，确保工程环境的整洁。